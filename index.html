 <!DOCTYPE html>
 <html lang="en">
 <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Salary Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudfare.com/ajax/libs/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css"> 
    <!-- <script href="script.js"></script> -->
 </head>

 <body>
    <div class="card">
      <h2>Employee Management</h2>
      <input type="text" id="empName" placeholder="Full Name">
      <input type="text" id="empDept" placeholder="Department">
      <input type="text" id="empHireDate" placeholder="YY-MM-DD">
      <button onclick="addEmployee()">Add Employee</button>

      <table id="employeeTable">
         <thead>
            <tr>
            <th>ID</th>
            <th>Full Name</th>
            <th>Department</th>
            <th>Hire Date</th>
            <th>Actions</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td>1</td>
               <td>John Doe</td>
               <td>Engineering</td>
               <td>2025-01-15</td>
               <td><button>View Salaries</button></td>
            </tr>
         </tbody>
      </table>
    </div>
    <div class="card">
      <h2>Salary Management</h2>
      <input type="text" id="salaryMonth" placeholder="Month-Year">
      <input type="number" id="salaryAmount" placeholder="Amount">
      <input type="number" id="employeeId" placeholder="Employee ID">
      <button onclick="addSalary()">Add Salary</button>

      <table id="salaryTable">
         <thead>
            <tr>
            <th>ID</th>
            <th>Month-Year</th>
            <th>Amount</th>
            <th>Actions</th>
            <th>Actions</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td>1</td>
               <td>Jan-2025</td>
               <td>40000</td>
               <td><button>Edit</button></td>
               <td><button>Delete</button></td>
            </tr>
         </tbody>
      </table>
    </div>
 </body>

 </html>

 <script>
async function addEmployee(){
const name = document.getElementById("empName").value
const dept= document.getElementById("empDept").value
const hireDate= document.getElementById("empHireDate").value


if (!name || !dept || !hireDate){
    alert("Please fill all the fields")
}

const employee={
    fullName: name,
    department: dept,
    hireDate: hireDate,
}

try{
 
const response= await fetch("https://localhost:7125/add/employees", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify(employee)
});

if (response.ok){
    const data= await response.json();
    console.log("Employee Added: ", data);
    alert("Employee Added Successfully");
}
else {
    const err= await response.text();
    alert("Error adding employee: "+ err);
}
}
catch (error){
console.error("Fetch error: ", error)
alert("Could not connect to server")
}
}

async function addSalary(){
 const salaryMonth = document.getElementById("salaryMonth").value
 const salaryAmount = document.getElementById("salaryAmount").value
 const employeeID = document.getElementById("employeeId").value

 if (!salaryAmount || !salaryMonth || !employeeID){
   alert("Please fill all the fields")
 }

 const employeeSalary={
   salaryAmount:salaryAmount,
   salaryMonth: salaryMonth,
   employeeID:employeeID
 }

 try {
   const response= await fetch(`https://localhost:7125/salaries/${employeeID}`, {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify(employeeSalary)
   });

   if (response.ok){
      const data= await response.json();
      console.log("Employee's salary added: ",data)
      alert("Salary Added Successfully")
   }
   else {
      const err= await response.text();
      alert("Error adding Employee's Salary: "+err)
   }
 }
 
   catch (error){
      console.error("Fetch error: ", error)
      alert("Could not connect to server")
   }
}

</script>
